import googletrans
from googletrans import Translator
import pyttsx3
import speech_recognition as sr


#print(sr.Microphone.list_microphone_names())

r = sr.Recognizer()
mic = sr.Microphone()

print('Say something')

with mic as source:
    r.adjust_for_ambient_noise(source)
    audio = r.listen(source)

    # recognize speech using Google Speech Recognition
    result = r.recognize_google(audio, language = 'ro-RO', show_all = True)

    try:
        print(result)
    except:                            # speech is unintelligible
        print("Could not understand audio")



p = Translator()
k = p.translate(result, dest='french')
translated = str(k.text)
print(translated)

# engine = pyttsx3.init()
# engine = pyttsx3.init()
# voices = engine.getProperty('voices')
# for voice in voices:
# print("Voice:")
# print(" - ID: %s" % voice.id)
# print(" - Name: %s" % voice.name)
# print(" - Languages: %s" % voice.languages)
# print(" - Gender: %s" % voice.gender)
# print(" - Age: %s" % voice.age)
#
# fr_voice_id = "com.apple.speech.synthesis.voice.thomas"
# engine.setProperty('voice', fr_voice_id)
#
# engine.say(translated)
# engine.runAndWait()
